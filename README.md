# Solution-to-problem-2-related-to-the-arithmetic-mean

Этот проект реализует **децентрализованный алгоритм консенсуса** (среднее арифметическое) в сети из 10 агентов, **имитируя реальные условия распределённой системы**:
- потери сообщений,
- шум канала передачи,
- динамическое изменение топологии (обрыв связей),
- асинхронное поведение.

В отличие от XMPP-платформ (например, SPADE), здесь используется **чистая симуляция**, что обеспечивает **мгновенный запуск**, **стабильность на любой ОС** и **полный контроль над логикой**.

## Как это работает

### Инициализация
- Создаётся связный неориентированный граф из `n = 10` агентов, где каждый узел имеет 2–4 соседа.
- Каждый агент `i` инициализирует своё состояние `x_i^{(0)} \in [0, 100]` как случайное вещественное число.

### Протокол локального голосования (average consensus)

На каждой итерации `t = 1, 2, \dots` агенты выполняют обновление по правилу:

\[
x_i^{(t+1)} = x_i^{(t)} + \alpha \left( \frac{1}{|\mathcal{N}_i^{(t)}|} \sum_{j \in \mathcal{N}_i^{(t)}} y_{j \to i}^{(t)} - x_i^{(t)} \right)
\]

где:
- `\(\alpha = 0.5\)` — коэффициент сходимости,
- `\(\mathcal{N}_i^{(t)}\)` — множество соседей агента `i` на итерации `t`,
- `\(y_{j \to i}^{(t)} = x_j^{(t)} + \xi_{ji}\)` — зашумлённое значение, полученное от соседа `j`,
- `\(\xi_{ji} \sim \mathcal{U}(-0.5, +0.5)\)` — равномерный шум канала.

### Эмуляция реальных условий

| Эффект | Реализация |
|--------|------------|
| **Потери сообщений** | С вероятностью 10% значение от соседа игнорируется (не участвует в усреднении). |
| **Динамическая топология** | На каждой итерации с вероятностью 50% удаляются 1–2 случайных ребра. |
| **Асинхронность** | Агенты обновляются последовательно, но порядок не влияет на сходимость при `\(\alpha \leq 1\)`. |

## Расчёт стоимости выполнения

Стоимость вычислений рассчитывается по следующим правилам:

| Ресурс | Стоимость |
|--------|-----------|
| Хранение одного числа | 1 рубль |
| Одна итерация алгоритма | 1 рубль |
| Одна арифметическая операция (сложение или деление) | 0.01 рубля |
| Одно сообщение между агентами | 0.1 рубля |
| Отправка окончательного результата пользователю | 1000 рублей |

Программа автоматически подсчитывает:
- количество хранимых значений (всегда 10),
- число выполненных итераций,
- количество операций сложения и деления при усреднении,
- общее число отправленных сообщений,
- и добавляет фиксированную стоимость финального отчёта.

Итоговая стоимость выводится в консоль в формате:

## Установка зависимостей

Убедитесь, что у вас установлен **Python 3.8 или новее**.

Откройте терминал и установите необходимые пакеты:

```bash
pip install networkx matplotlib
